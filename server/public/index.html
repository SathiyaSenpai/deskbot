<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="AI DeskBot companion control interface">
  <title>DeskBot - Control Dashboard</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- Top Status Bar -->
  <header class="status-bar">
    <div class="robot-name" id="robotName">ğŸ¤– DeskBot Companion</div>
    <div class="connection" id="connectionStatus" data-status="disconnected">
      <span class="status-indicator">â—</span>
      <span class="status-text">Disconnected</span>
    </div>
    <div class="robot-state" id="robotState" data-state="IDLE">IDLE</div>
  </header>

  <!-- Main Content Area -->
  <main class="main-container">
    
    <!-- Left: Robot Panel -->
    <section class="robot-panel" aria-label="Robot Status">
      <!-- Eye Animation Preview (OLED Simulator) -->
      <div class="robot-display">
        <div class="oled-preview" id="oledPreview">
          <div class="eye" id="eyeLeft"></div>
          <div class="eye" id="eyeRight"></div>
        </div>
        <div class="robot-name-label">DESKBOT</div>
        <div class="behavior-label" id="currentBehavior">calm_idle</div>
      </div>
      
      <!-- LED Color Control -->
      <div class="led-control">
        <h4>Mood Light</h4>
        <div class="led-presets">
          <button class="led-btn" data-color="#ff0000" style="background:#ff0000" title="Red"></button>
          <button class="led-btn" data-color="#00ff00" style="background:#00ff00" title="Green"></button>
          <button class="led-btn" data-color="#0000ff" style="background:#0000ff" title="Blue"></button>
          <button class="led-btn" data-color="#ffff00" style="background:#ffff00" title="Yellow"></button>
          <button class="led-btn" data-color="#ff00ff" style="background:#ff00ff" title="Purple"></button>
          <button class="led-btn" data-color="#00ffff" style="background:#00ffff" title="Cyan"></button>
          <button class="led-btn" data-color="#ffffff" style="background:#ffffff" title="White"></button>
          <button class="led-btn led-off" data-color="off" title="Off">âœ•</button>
        </div>
      </div>
      
      <!-- Sensor Status -->
      <div class="robot-info">
        <h4>Sensors</h4>
        <div class="info-item">
          <span class="info-label">ğŸ’¡ Light</span>
          <span class="info-value" id="sensorLight">â€”</span>
        </div>
        <div class="info-item">
          <span class="info-label">ğŸ‘‹ Motion</span>
          <span class="info-value" id="sensorMotion">â€”</span>
        </div>
        <div class="info-item">
          <span class="info-label">ğŸ“ Distance</span>
          <span class="info-value" id="sensorDistance">â€”</span>
        </div>
        <div class="info-item">
          <span class="info-label">âœ‹ Touch</span>
          <span class="info-value" id="sensorTouch">â€”</span>
        </div>
      </div>
      
      <!-- Demo Controls -->
      <div class="demo-panel">
        <h4>ğŸ¬ Demo Controls</h4>
        
        <!-- Stopwatch -->
        <div class="demo-section">
          <label>â±ï¸ Stopwatch</label>
          <div class="stopwatch-display" id="stopwatchDisplay">00:00.00</div>
          <div class="btn-row">
            <button class="demo-btn" onclick="stopwatchStart()">â–¶ï¸ Start</button>
            <button class="demo-btn" onclick="stopwatchStop()">â¸ï¸ Stop</button>
            <button class="demo-btn" onclick="stopwatchReset()">ğŸ”„ Reset</button>
          </div>
        </div>
        
        <!-- Audio Testing -->
        <div class="demo-section">
          <label>ğŸ”Š Audio System Test</label>
          <div class="btn-row">
            <button class="demo-btn" onclick="testAudio()">ğŸµ Test Audio</button>
          </div>
          <div class="audio-status" id="audioStatus" style="font-size: 12px; margin-top: 5px; color: #666;"></div>
        </div>
      </div>
    </section>

    <!-- Right: Chat Panel -->
    <section class="chat-panel" aria-label="Conversation">
      <div class="chat-header">
        <h2>ğŸ’¬ Chat with DeskBot</h2>
        <div class="chat-actions">
          <button id="servoLeft" class="servo-btn" title="Look Left">â¬…ï¸</button>
          <button id="servoCenter" class="servo-btn" title="Center">âºï¸</button>
          <button id="servoRight" class="servo-btn" title="Look Right">â¡ï¸</button>
        </div>
      </div>
      <div class="chat-messages" id="chatMessages">
        <!-- Messages will be added dynamically by JavaScript -->
        <div class="message robot">
          <div class="message-content">à®µà®£à®•à¯à®•à®®à¯! I'm your friendly DeskBot companion ğŸ˜Š</div>
          <div class="message-time">Just now</div>
        </div>
      </div>
    </section>

  </main>

  <!-- Bottom Input Bar -->
  <footer class="input-bar">
    <button id="micButton" class="mic-button" title="Hold to speak (mobile only)">
      <span class="mic-icon">ğŸ¤</span>
      <span class="mic-status"></span>
    </button>
    <input 
      type="text" 
      id="messageInput" 
      class="message-input"
      placeholder="Say something to your companion..." 
      disabled
      autocomplete="off"
      maxlength="500"
    >
    <button id="sendButton" class="send-button" disabled>
      <span>Send</span>
    </button>
  </footer>

  <script src="app.js"></script>
</body>
</html>
